<!DOCTYPE html>
<html>
 <head>
   <meta charset="utf-8">
   <title>¿Cómo se escribe?</title>
   <script type= "text/javascript" src="js/phaser.min.js"></script>
   <link href="css/css.css" rel="stylesheet" type="text/css" />
   <link rel="icon" type="image/png" href="assets/Misc/HVGamesIco.ico" />

 </head>
 <body>
   <center> <div id="gameDiv"> </div> </center>
   <script type="text/javascript">

   var game= new Phaser.Game(1000, 515, Phaser.AUTO, 'gameDiv',{preload:preload, create: create, update: update});

    function preload(){
      game.load.image('loading', 'assets/Misc/load.png');
      game.load.image('menu', 'assets/Misc/menu.png');
      game.load.spritesheet('playbt', 'assets/Misc/playbt.png', 200,60);
      game.load.image('play', 'assets/Misc/play.png');
      game.load.spritesheet('nube', 'assets/Misc/nube.png');

    }

    var button;
    var menu;
    var load;
    var ale = 0;
    var acierto;
    var error1;
    var error2;
    var preguntasNubes = [
      [ 'Pregunta1'],
      [ 'Pregunta2' ],
      [ 'Pregunta3' ],
      [ 'Pregunta4'],
      [ 'Pregunta5'],
    ];

    var respuestaCN = [
     [ 'Respuesta1'],
     [ 'Respuesta2' ],
     [ 'Respuesta3' ],
     [ 'Respuesta4'],
     [ 'Respuesta5'],
    ];

    var respuestaIN1 = [
     [ 'Incorrecto1'],
     [ 'Incorrecto2' ],
     [ 'Incorrecto3' ],
     [ 'Incorrecto4'],
     [ 'Incorrecto5'],
    ];

    var respuestaIN2 = [
     [ 'Incorrecto1'],
     [ 'Incorrecto2' ],
     [ 'Incorrecto3' ],
     [ 'Incorrecto4'],
     [ 'Incorrecto5'],
    ];


    function create(){
     load = game.add.image(0,0, 'loading');
     menu = game.add.sprite(0,0,'menu');
     button = game.add.button(game.world.centerX - 100, 400, 'playbt', actionOnClick, this, 1, 0, 2);
     button.onInputOver.add(over, this);
     button.onInputOut.add(out, this);
     button.onInputUp.add(up, this);

    }

    function up() {
    console.log('button up', arguments);
    }

    function over() {
    console.log('button over');
    }

    function out() {
    console.log('button out');
    }

    function actionOnClick () {

      load.kill();
      menu.kill();
      button.kill();

      /*Se crea la pantalla del juego*/
      game.add.sprite(0,0,'play');

      ale=game.rnd.integerInRange(0, 2);
      game.add.text(16,16,'Ale: '+ale,{fontsize:'32px',fill:'#000'});

      game.add.text(16,450,'*'+preguntasNubes[0],{fontsize:'32px',fill:'#000'});

      switch (ale) {
        case 0:

        acierto = game.add.button(100, 200, 'nube');
        error1 = game.add.button(game.world.centerX - 105, 100, 'nube');
        error2 = game.add.button(705, 200, 'nube');

        game.add.text(120,240,''+respuestaCN[0],{fontsize:'32px',fill:'#000'});
        game.add.text(game.world.centerX - 85, 140,''+respuestaIN1[0],{fontsize:'32px',fill:'#000'});
        game.add.text(725,240,''+respuestaIN2[0],{fontsize:'32px',fill:'#000'});

        error1.onInputUp.add(Error1N, this);
        error2.onInputUp.add(Error1N, this);
        acierto.onInputUp.add(CorrectoN, this);

        game.add.text(16,50,'op1',{fontsize:'32px',fill:'#000'});
          break;

       case 1:
       error1 = game.add.button(100, 200, 'nube');
       acierto = game.add.button(game.world.centerX - 105, 100, 'nube');
       error2 = game.add.button(705, 200, 'nube');

       game.add.text(120,240,''+respuestaIN1[0],{fontsize:'32px',fill:'#000'});
       game.add.text(game.world.centerX - 85, 140,''+respuestaCN[0],{fontsize:'32px',fill:'#000'});
       game.add.text(725,240,''+respuestaIN2[0],{fontsize:'32px',fill:'#000'});

       error1.onInputUp.add(Error1N, this);
       error2.onInputUp.add(Error1N, this);
       acierto.onInputUp.add(CorrectoN, this);

       game.add.text(16,50,'op2',{fontsize:'32px',fill:'#000'});
         break;

       case 2:
       error2 = game.add.button(100, 200, 'nube');
       error1 = game.add.button(game.world.centerX - 105, 100, 'nube');
       acierto = game.add.button(705, 200, 'nube');

       game.add.text(120,240,''+respuestaIN2[0],{fontsize:'32px',fill:'#000'});
       game.add.text(game.world.centerX - 85, 140,''+respuestaIN1[0],{fontsize:'32px',fill:'#000'});
       game.add.text(725,240,''+respuestaCN[0],{fontsize:'32px',fill:'#000'});

       error1.onInputUp.add(Error1N, this);
       error2.onInputUp.add(Error1N, this);
       acierto.onInputUp.add(CorrectoN, this);

       game.add.text(16,50,'op3',{fontsize:'32px',fill:'#000'});
         break;
      }


    }

    function  Error1N(){
      game.add.text(game.world.centerX, game.world.centerY, 'Mal');
    }

    function  CorrectoN(){
      game.add.text(game.world.centerX, game.world.centerY, 'Bien');
    }

    function update(){

    }


</script>



 </body>
</html>
